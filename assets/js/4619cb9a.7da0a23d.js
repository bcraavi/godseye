"use strict";(globalThis.webpackChunkgodseye=globalThis.webpackChunkgodseye||[]).push([[4822],{6209(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"architecture/customer-experience","title":"Customer Experience Layer","description":"Every surface the shopper touches. All channels share a single unified session, cart, and customer profile backed by Layer 4 services. AI personalization from Layer 3 is injected at every touchpoint in real time.","source":"@site/docs/architecture/customer-experience.md","sourceDirName":"architecture","slug":"/architecture/customer-experience","permalink":"/godseye/architecture/customer-experience","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Customer Experience Layer","sidebar_label":"\ud83d\udecd\ufe0f Customer Experience Layer"},"sidebar":"architectureSidebar","previous":{"title":"\ud83d\udcbc Business Operations","permalink":"/godseye/architecture/business-operations"},"next":{"title":"\ud83d\udd10 Authentication & Identity System","permalink":"/godseye/systems/authentication"}}');var s=t(4848),i=t(8453);const l={sidebar_position:6,title:"Customer Experience Layer",sidebar_label:"\ud83d\udecd\ufe0f Customer Experience Layer"},c="\ud83d\udecd\ufe0f Customer Experience Layer",o={},a=[{value:"Unified Touchpoint Architecture",id:"unified-touchpoint-architecture",level:2},{value:"Cross-Channel Customer Journey",id:"cross-channel-customer-journey",level:2},{value:"Web Storefront",id:"web-storefront",level:2},{value:"Mobile App Architecture",id:"mobile-app-architecture",level:2},{value:"Store Mode Flow",id:"store-mode-flow",level:3},{value:"In-Store Systems",id:"in-store-systems",level:2},{value:"Conversational Commerce",id:"conversational-commerce",level:2},{value:"Social Commerce",id:"social-commerce",level:2},{value:"Omnichannel Data Flow",id:"omnichannel-data-flow",level:2},{value:"Event Flow Per Interaction",id:"event-flow-per-interaction",level:3},{value:"Channel Capability Matrix",id:"channel-capability-matrix",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",mermaid:"mermaid",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\ufe0f-customer-experience-layer",children:"\ud83d\udecd\ufe0f Customer Experience Layer"})}),"\n",(0,s.jsx)(n.p,{children:"Every surface the shopper touches. All channels share a single unified session, cart, and customer profile backed by Layer 4 services. AI personalization from Layer 3 is injected at every touchpoint in real time."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"unified-touchpoint-architecture",children:"Unified Touchpoint Architecture"}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TB\n    subgraph Channels["Customer Touchpoints"]\n        direction LR\n        WEB["Web Storefront<br/>(Next.js + Edge CDN)"]\n        MOBILE["Mobile Apps<br/>(React Native)"]\n        INSTORE["In-Store Systems<br/>(POS, Kiosks, Signage)"]\n        CONVO["Conversational<br/>(Chat, SMS, Voice)"]\n        SOCIAL["Social Commerce<br/>(IG, TikTok, Pinterest)"]\n    end\n\n    subgraph Unified["Unified Experience Layer"]\n        GW["API Gateway<br/>(Layer 2: Connect)"]\n        SESSION["Unified Session<br/>Manager"]\n        CART["Cart Service<br/>(Tier 1)"]\n        AUTH["Auth Gateway<br/>(Tier 1)"]\n        PROFILE["Customer Profile<br/>(Real-Time Graph)"]\n    end\n\n    subgraph AI["AI Personalization (Layer 3)"]\n        ASSISTANT["AI Shopping<br/>Assistant"]\n        REC["Recommendation<br/>Engine"]\n        SEARCH["Visual + Semantic<br/>Search"]\n        SEGMENT["Real-Time<br/>Segmentation"]\n    end\n\n    subgraph Backend["Layer 4: Business Operations"]\n        COMMERCE["Commerce Engine"]\n        INVENTORY["Inventory<br/>(Real-Time ATP)"]\n        OMS["Order Management"]\n        PRICING["Dynamic Pricing"]\n        CRM["CRM / Loyalty"]\n        MARKETING["Marketing Engine"]\n    end\n\n    WEB --\x3e GW\n    MOBILE --\x3e GW\n    INSTORE --\x3e GW\n    CONVO --\x3e GW\n    SOCIAL --\x3e GW\n\n    GW --\x3e SESSION\n    GW --\x3e AUTH\n    SESSION --\x3e CART\n    SESSION --\x3e PROFILE\n\n    PROFILE --\x3e SEGMENT\n    SEGMENT --\x3e REC\n    ASSISTANT --\x3e REC\n    ASSISTANT --\x3e SEARCH\n\n    CART --\x3e COMMERCE\n    COMMERCE --\x3e INVENTORY\n    COMMERCE --\x3e PRICING\n    COMMERCE --\x3e OMS\n    PROFILE --\x3e CRM\n    CRM --\x3e MARKETING\n\n    REC --\x3e COMMERCE\n    SEARCH --\x3e INVENTORY\n\n    style Channels fill:#1a1a2e,color:#fff\n    style Unified fill:#2c3e50,color:#fff\n    style AI fill:#6c5ce7,color:#fff\n    style Backend fill:#d35400,color:#fff'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cross-channel-customer-journey",children:"Cross-Channel Customer Journey"}),"\n",(0,s.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant CUST as Customer\n    participant WEB as Web Storefront\n    participant SESSION as Unified Session\n    participant AI as AI Assistant\n    participant MOBILE as Mobile App\n    participant STORE as Physical Store\n    participant POS as Nexus POS\n    participant CONVO as Conversational (SMS)\n    participant OMS as Order Management\n\n    Note over CUST,OMS: Journey: Browse Web -> Continue Mobile -> Buy In-Store -> Support via SMS\n\n    CUST->>WEB: Browse homepage (personalized via AI)\n    WEB->>SESSION: Create/resume session (cookie + fingerprint)\n    WEB->>AI: Request recommendations (browsing context)\n    AI--\x3e>WEB: Personalized product feed\n    CUST->>WEB: Add 2 items to cart\n    WEB->>SESSION: Persist cart (SKU-A, SKU-B)\n\n    Note over CUST,MOBILE: Channel switch: Web -> Mobile\n\n    CUST->>MOBILE: Open app (authenticated)\n    MOBILE->>SESSION: Resume session (same customer ID)\n    SESSION--\x3e>MOBILE: Cart restored (SKU-A, SKU-B)\n    MOBILE->>AI: "Show me similar to SKU-A but in blue"\n    AI--\x3e>MOBILE: 3 alternatives with real-time stock\n    CUST->>MOBILE: Replace SKU-A with SKU-C\n    MOBILE->>SESSION: Update cart (SKU-C, SKU-B)\n\n    Note over CUST,STORE: Channel switch: Mobile -> Store\n\n    CUST->>STORE: Enter store (geofence triggers store mode)\n    MOBILE->>MOBILE: Activate Store Mode:<br/>indoor nav, scan & go\n    CUST->>MOBILE: Scan SKU-B barcode (verify in-hand)\n    MOBILE->>SESSION: Confirm SKU-B (in-store pickup)\n    CUST->>POS: Checkout at register\n    POS->>SESSION: Retrieve cart (SKU-C ship-to-home, SKU-B in-hand)\n    POS->>OMS: Create split order:<br/>SKU-C = ship-from-DC<br/>SKU-B = POS sale\n\n    Note over CUST,CONVO: Post-purchase: SMS support\n\n    CUST->>CONVO: "Where is my SKU-C shipment?"\n    CONVO->>OMS: Query order status\n    OMS--\x3e>CONVO: In transit, ETA tomorrow\n    CONVO--\x3e>CUST: "Your order ships tomorrow. Track here: [link]"'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"web-storefront",children:"Web Storefront"}),"\n",(0,s.jsx)(n.p,{children:"Headless React/Next.js frontend consuming Nexus Commerce API. Edge-cached via CloudFlare + SSR for sub-second TTFB. AI Shopping Assistant embedded as persistent chat widget with full catalog access."}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart LR\n    subgraph Edge["Edge Layer"]\n        CDN["CloudFlare CDN<br/>+ Edge Cache"]\n        WAF["WAF / DDoS<br/>(Layer 2: Shield)"]\n    end\n\n    subgraph SSR["Server-Side Rendering"]\n        NEXT["Next.js<br/>(App Router + RSC)"]\n        BFF["BFF API Layer<br/>(GraphQL Federation)"]\n    end\n\n    subgraph Client["Client-Side"]\n        REACT["React SPA Shell"]\n        AI_WIDGET["AI Shopping<br/>Assistant Widget"]\n        AB["A/B Test Engine<br/>(AI-Optimized)"]\n        A11Y["WCAG 2.1 AA<br/>Accessibility Layer"]\n    end\n\n    subgraph APIs["Nexus Commerce API"]\n        CATALOG["Product Catalog"]\n        CART_API["Cart + Checkout"]\n        SEARCH_API["Search<br/>(Semantic + Faceted)"]\n        INVENTORY_API["Real-Time<br/>Inventory"]\n        PERSONALIZATION["Personalization<br/>API (Layer 3)"]\n    end\n\n    CDN --\x3e NEXT\n    WAF --\x3e CDN\n    NEXT --\x3e BFF\n    NEXT --\x3e REACT\n    REACT --\x3e AI_WIDGET\n    REACT --\x3e AB\n    REACT --\x3e A11Y\n\n    BFF --\x3e CATALOG\n    BFF --\x3e CART_API\n    BFF --\x3e SEARCH_API\n    BFF --\x3e INVENTORY_API\n    BFF --\x3e PERSONALIZATION\n\n    AI_WIDGET --\x3e SEARCH_API\n    AI_WIDGET --\x3e PERSONALIZATION\n    AB --\x3e PERSONALIZATION\n\n    style Edge fill:#e74c3c,color:#fff\n    style SSR fill:#2c3e50,color:#fff\n    style Client fill:#3498db,color:#fff\n    style APIs fill:#27ae60,color:#fff'}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Capability"}),(0,s.jsx)(n.th,{children:"Implementation"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Framework"}),(0,s.jsx)(n.td,{children:"Next.js 14+ (App Router, React Server Components)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Rendering"}),(0,s.jsx)(n.td,{children:"SSR + ISR, edge-cached at 200+ PoPs"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TTFB"}),(0,s.jsx)(n.td,{children:"< 200ms (P95), < 100ms (P50)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AI Assistant"}),(0,s.jsx)(n.td,{children:"Persistent chat widget, full browse/search/add-to-cart"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Personalization"}),(0,s.jsx)(n.td,{children:"Homepage, PDP, search results, recommendations"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Inventory"}),(0,s.jsx)(n.td,{children:"Real-time ATP on every PDP, updated via WebSocket"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Checkout"}),(0,s.jsx)(n.td,{children:"One-click (saved payment + address), Apple Pay, Google Pay"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Accessibility"}),(0,s.jsx)(n.td,{children:"WCAG 2.1 AA, screen reader tested, keyboard-navigable"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"A/B Testing"}),(0,s.jsx)(n.td,{children:"AI-optimized multivariate, auto-allocating traffic to winners"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Performance Budget"}),(0,s.jsx)(n.td,{children:"LCP < 2.5s, FID < 100ms, CLS < 0.1"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"mobile-app-architecture",children:"Mobile App Architecture"}),"\n",(0,s.jsx)(n.p,{children:"React Native (iOS + Android) with AI assistant (voice + text + camera), barcode scanner, and a geofence-activated Store Mode."}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart TB\n    subgraph App["Mobile App (React Native)"]\n        direction TB\n        UI["UI Layer<br/>(React Native)"]\n        AI_MOBILE["AI Assistant<br/>(Voice + Text + Camera)"]\n        SCANNER["Barcode / QR<br/>Scanner"]\n        AR["AR Try-On<br/>Engine"]\n        WALLET["Loyalty Wallet<br/>+ Digital Receipts"]\n        OFFLINE["Offline Catalog<br/>(SQLite + Sync)"]\n    end\n\n    subgraph StoreMode["Store Mode (Geofence Activated)"]\n        GEO["Geofence<br/>Trigger"]\n        NAV["Indoor Navigation<br/>(BLE Beacons)"]\n        SCANGO["Scan & Go<br/>Checkout"]\n        RECEIPT["Digital<br/>Receipts"]\n        PAGE["Associate<br/>Paging"]\n    end\n\n    subgraph Platform["Layer 2: Mobile Platform"]\n        OTA["OTA Updates<br/>(CodePush)"]\n        PUSH["Push Notifications<br/>(AI-Optimized)"]\n        CRASH["Crash Monitoring<br/>(NEXUS MOBILE)"]\n        ANALYTICS["App Analytics"]\n    end\n\n    subgraph Backend["Backend APIs"]\n        GW_API["API Gateway"]\n        SESSION_API["Session Manager"]\n        COMMERCE_API["Commerce API"]\n        INVENTORY_RT["Inventory<br/>(Real-Time)"]\n    end\n\n    UI --\x3e AI_MOBILE\n    UI --\x3e SCANNER\n    UI --\x3e AR\n    UI --\x3e WALLET\n    UI --\x3e OFFLINE\n\n    GEO --\x3e|enter store radius| NAV\n    GEO --\x3e SCANGO\n    GEO --\x3e RECEIPT\n    GEO --\x3e PAGE\n    SCANNER --\x3e SCANGO\n\n    App --\x3e GW_API\n    StoreMode --\x3e GW_API\n    GW_API --\x3e SESSION_API\n    GW_API --\x3e COMMERCE_API\n    GW_API --\x3e INVENTORY_RT\n\n    Platform --\x3e App\n    OTA --\x3e App\n    PUSH --\x3e App\n    CRASH --\x3e App\n\n    style App fill:#3498db,color:#fff\n    style StoreMode fill:#e67e22,color:#fff\n    style Platform fill:#8e44ad,color:#fff\n    style Backend fill:#2c3e50,color:#fff'}),"\n",(0,s.jsx)(n.h3,{id:"store-mode-flow",children:"Store Mode Flow"}),"\n",(0,s.jsx)(n.mermaid,{value:'stateDiagram-v2\n    [*] --\x3e NormalMode: App launched\n\n    NormalMode --\x3e StoreDetected: Geofence triggered<br/>(GPS + BLE beacon)\n    StoreDetected --\x3e StoreMode: User confirms<br/>store activation\n\n    state StoreMode {\n        [*] --\x3e StoreHome\n        StoreHome --\x3e IndoorNav: Tap "Find Product"\n        StoreHome --\x3e ScanGo: Tap "Scan & Go"\n        StoreHome --\x3e PageAssociate: Tap "Need Help"\n        StoreHome --\x3e FittingRoom: Tap "Fitting Room"\n\n        IndoorNav --\x3e ProductLocated: BLE triangulation<br/>+ aisle mapping\n        ProductLocated --\x3e ScanGo: Scan item barcode\n\n        ScanGo --\x3e CartUpdated: Item added to cart\n        CartUpdated --\x3e ScanGo: Scan another\n        CartUpdated --\x3e Checkout: Tap "Pay"\n        Checkout --\x3e DigitalReceipt: Payment processed\n\n        PageAssociate --\x3e AssociateEnRoute: Nearest associate<br/>notified\n        AssociateEnRoute --\x3e StoreHome: Assistance complete\n\n        FittingRoom --\x3e SmartMirror: Check in to room\n        SmartMirror --\x3e SizeRequest: "Bring me size M"\n        SizeRequest --\x3e AssociateEnRoute: Associate fetches\n        SmartMirror --\x3e CartUpdated: Add to cart<br/>from mirror\n    }\n\n    StoreMode --\x3e NormalMode: Exit geofence\n    DigitalReceipt --\x3e [*]'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"in-store-systems",children:"In-Store Systems"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart TB\n    subgraph CustomerFacing["Customer-Facing"]\n        POS["Nexus POS<br/>(Offline-First,<br/>72h Local Autonomy)"]\n        KIOSK["Self-Checkout<br/>Kiosks"]\n        PRICE_CHECK["Price Check<br/>Stations"]\n        SIGNAGE["Digital Signage<br/>(AI Content)"]\n        QUEUE["Queue Management<br/>Displays"]\n    end\n\n    subgraph AssociateSystems["Associate Systems"]\n        TABLET["Associate Tablets<br/>(Clienteling +<br/>Endless Aisle)"]\n        FITTING["Smart Mirrors<br/>(Fitting Rooms)"]\n    end\n\n    subgraph IoT["IoT Sensor Network"]\n        FOOT["Foot Traffic<br/>Sensors"]\n        SHELF["Smart Shelf<br/>Sensors (Weight)"]\n        RFID["RFID Gates<br/>(Entry / Exit)"]\n        BLE["BLE Beacons<br/>(Indoor Position)"]\n    end\n\n    subgraph StoreEdge["Store Edge Server"]\n        EDGE["Edge Compute<br/>(Local K3s)"]\n        SYNC["Sync Queue<br/>(Offline Buffer)"]\n        LOCAL_DB["Local DB<br/>(SQLite / Postgres)"]\n    end\n\n    subgraph Cloud["Cloud Backend (Layer 4)"]\n        INV_SVC["Inventory Service"]\n        OMS_SVC["OMS"]\n        CRM_SVC["CRM / Loyalty"]\n        ANALYTICS_SVC["Analytics Pipeline"]\n    end\n\n    POS --\x3e EDGE\n    KIOSK --\x3e EDGE\n    PRICE_CHECK --\x3e EDGE\n    SIGNAGE --\x3e EDGE\n    QUEUE --\x3e EDGE\n    TABLET --\x3e EDGE\n    FITTING --\x3e EDGE\n\n    FOOT --\x3e EDGE\n    SHELF --\x3e EDGE\n    RFID --\x3e EDGE\n    BLE --\x3e EDGE\n\n    EDGE --\x3e LOCAL_DB\n    EDGE --\x3e SYNC\n\n    SYNC --\x3e|online| INV_SVC\n    SYNC --\x3e|online| OMS_SVC\n    SYNC --\x3e|online| CRM_SVC\n    EDGE --\x3e|telemetry| ANALYTICS_SVC\n\n    style CustomerFacing fill:#e74c3c,color:#fff\n    style AssociateSystems fill:#3498db,color:#fff\n    style IoT fill:#27ae60,color:#fff\n    style StoreEdge fill:#f39c12,color:#000\n    style Cloud fill:#2c3e50,color:#fff'}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"System"}),(0,s.jsx)(n.th,{children:"Details"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Nexus POS"}),(0,s.jsx)(n.td,{children:"Cloud-native, offline-first. 72-hour local autonomy. Conflict-free sync (CRDTs). Unified with e-commerce cart/pricing."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Self-Checkout Kiosks"}),(0,s.jsx)(n.td,{children:"Touch + scan interface. Weight verification. Loss prevention integration."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Price Check Stations"}),(0,s.jsx)(n.td,{children:"Scan barcode, show real-time price + promotions + related items."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Digital Signage"}),(0,s.jsx)(n.td,{children:"AI-driven content: daypart-aware, weather-responsive, inventory-linked."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Associate Tablets"}),(0,s.jsx)(n.td,{children:"Clienteling (customer history + preferences), endless aisle (order out-of-stock from DC), task management."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Smart Mirrors"}),(0,s.jsx)(n.td,{children:"RFID-tagged garments detected on entry. Request alternate sizes. Add to cart. Outfit recommendations."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"IoT Sensors"}),(0,s.jsx)(n.td,{children:"Foot traffic heatmaps, shelf out-of-stock detection (weight sensors), RFID shrink gates, BLE positioning."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Queue Management"}),(0,s.jsx)(n.td,{children:'Real-time wait estimation. Dynamic lane opening. "Queue at register 4" routing.'})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"conversational-commerce",children:"Conversational Commerce"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart TB\n    subgraph Channels["Messaging Channels"]\n        WEBCHAT["Web Chat<br/>(Embedded Widget)"]\n        APPMSG["Mobile App<br/>Chat"]\n        SMS["SMS / MMS"]\n        WA["WhatsApp<br/>Business"]\n        APPLE["Apple Messages<br/>for Business"]\n        IG["Instagram DM"]\n    end\n\n    subgraph Voice["Voice Commerce"]\n        ALEXA["Amazon Alexa<br/>Skill"]\n        GOOG["Google Home<br/>Action"]\n    end\n\n    subgraph Video["Live Commerce"]\n        LIVESHOP["Live Video<br/>Shopping"]\n    end\n\n    subgraph Orchestrator["Conversation Orchestrator"]\n        NLU["NLU Pipeline<br/>(Intent + Entity)"]\n        DIALOG["Dialog Manager<br/>(State Machine)"]\n        AI_AGENT["AI Shopping Agent<br/>(Layer 3)"]\n        HANDOFF["Human Handoff<br/>Router"]\n    end\n\n    subgraph Actions["Commerce Actions (In-Conversation)"]\n        BROWSE["Browse /<br/>Search"]\n        ADD_CART["Add to<br/>Cart"]\n        CHECKOUT_CONV["Checkout /<br/>Pay"]\n        TRACK["Order<br/>Tracking"]\n        NOTIFY["Back-in-Stock<br/>Notifications"]\n    end\n\n    WEBCHAT --\x3e NLU\n    APPMSG --\x3e NLU\n    SMS --\x3e NLU\n    WA --\x3e NLU\n    APPLE --\x3e NLU\n    IG --\x3e NLU\n\n    ALEXA --\x3e NLU\n    GOOG --\x3e NLU\n\n    LIVESHOP --\x3e AI_AGENT\n\n    NLU --\x3e DIALOG\n    DIALOG --\x3e AI_AGENT\n    DIALOG --\x3e HANDOFF\n\n    AI_AGENT --\x3e BROWSE\n    AI_AGENT --\x3e ADD_CART\n    AI_AGENT --\x3e CHECKOUT_CONV\n    AI_AGENT --\x3e TRACK\n    AI_AGENT --\x3e NOTIFY\n\n    style Channels fill:#25d366,color:#fff\n    style Voice fill:#232f3e,color:#fff\n    style Video fill:#e74c3c,color:#fff\n    style Orchestrator fill:#6c5ce7,color:#fff\n    style Actions fill:#2c3e50,color:#fff'}),"\n",(0,s.jsx)(n.p,{children:'Full commerce capabilities within any conversation: browse catalog, search (text + image), add to cart, apply coupons, checkout, track orders. Proactive messaging: "Text me when back in stock" subscribes the customer to an inventory event via Layer 4.'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"social-commerce",children:"Social Commerce"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart LR\n    subgraph Platforms["Social Platforms"]\n        IG_SHOP["Instagram<br/>Shopping"]\n        TIKTOK["TikTok<br/>Shop"]\n        PINTEREST["Pinterest<br/>Buyable Pins"]\n    end\n\n    subgraph LiveEvents["Live Shopping"]\n        LIVE_IG["IG Live<br/>Shopping"]\n        LIVE_TT["TikTok<br/>LIVE"]\n        LIVE_OWN["GodsEye<br/>Live Stream"]\n    end\n\n    subgraph CreatorTools["Influencer / UGC"]\n        INFLUENCER["Influencer<br/>Dashboard"]\n        UGC["UGC<br/>Aggregation"]\n        AFFILIATE["Affiliate<br/>Tracking"]\n    end\n\n    subgraph SyncLayer["Real-Time Catalog Sync"]\n        FEED["Product Feed<br/>Manager"]\n        INVENTORY_SYNC["Inventory Sync<br/>(ATP Push)"]\n        PRICE_SYNC["Price Sync<br/>(Dynamic)"]\n        ORDER_SYNC["Order Ingestion<br/>(Webhook)"]\n    end\n\n    subgraph Backend_Social["Layer 4: Commerce Engine"]\n        CATALOG_BE["Product Catalog"]\n        INV_BE["Inventory"]\n        OMS_BE["OMS"]\n        CRM_BE["CRM"]\n    end\n\n    IG_SHOP --\x3e ORDER_SYNC\n    TIKTOK --\x3e ORDER_SYNC\n    PINTEREST --\x3e ORDER_SYNC\n\n    LIVE_IG --\x3e ORDER_SYNC\n    LIVE_TT --\x3e ORDER_SYNC\n    LIVE_OWN --\x3e ORDER_SYNC\n\n    INFLUENCER --\x3e AFFILIATE\n    UGC --\x3e FEED\n\n    FEED --\x3e CATALOG_BE\n    INVENTORY_SYNC --\x3e INV_BE\n    PRICE_SYNC --\x3e CATALOG_BE\n    ORDER_SYNC --\x3e OMS_BE\n    AFFILIATE --\x3e CRM_BE\n\n    CATALOG_BE --\x3e FEED\n    INV_BE --\x3e INVENTORY_SYNC\n    CATALOG_BE --\x3e PRICE_SYNC\n\n    style Platforms fill:#e1306c,color:#fff\n    style LiveEvents fill:#fe2c55,color:#fff\n    style CreatorTools fill:#e67e22,color:#fff\n    style SyncLayer fill:#2c3e50,color:#fff\n    style Backend_Social fill:#27ae60,color:#fff'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"omnichannel-data-flow",children:"Omnichannel Data Flow"}),"\n",(0,s.jsxs)(n.p,{children:["How customer context follows the shopper across every touchpoint. A single ",(0,s.jsx)(n.code,{children:"customer_id"})," resolves to unified profile, cart, preferences, and interaction history regardless of channel."]}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart TB\n    subgraph Identity["Identity Resolution"]\n        AUTH_ID["Authenticated<br/>(Login / JWT)"]\n        DEVICE["Device<br/>Fingerprint"]\n        LOYALTY["Loyalty Card<br/>/ Phone #"]\n        COOKIE["Cookie /<br/>Session ID"]\n    end\n\n    subgraph Touchpoints["All Touchpoints"]\n        TP_WEB["Web"]\n        TP_MOBILE["Mobile"]\n        TP_STORE["Store POS"]\n        TP_KIOSK["Kiosk"]\n        TP_CHAT["Chat / SMS"]\n        TP_SOCIAL["Social"]\n        TP_VOICE["Voice"]\n    end\n\n    subgraph UnifiedProfile["Unified Customer Profile (Real-Time)"]\n        GRAPH["Customer Graph<br/>(Identity + Relationships)"]\n        PREFS["Preferences<br/>(Size, Brand, Style)"]\n        HISTORY["Interaction History<br/>(Browse, Buy, Return)"]\n        CART_STATE["Cart State<br/>(Cross-Channel)"]\n        LOYALTY_STATE["Loyalty Tier<br/>+ Points Balance"]\n        SEGMENTS["AI Segments<br/>(Real-Time)"]\n    end\n\n    subgraph Downstream["Real-Time Consumption"]\n        PERSONALIZATION_OUT["Personalization<br/>Engine"]\n        MARKETING_OUT["Campaign<br/>Triggers"]\n        PRICING_OUT["Dynamic<br/>Pricing"]\n        ASSISTANT_OUT["AI Shopping<br/>Assistant"]\n        ANALYTICS_OUT["Customer<br/>Analytics"]\n    end\n\n    AUTH_ID --\x3e GRAPH\n    DEVICE --\x3e GRAPH\n    LOYALTY --\x3e GRAPH\n    COOKIE --\x3e GRAPH\n\n    TP_WEB --\x3e GRAPH\n    TP_MOBILE --\x3e GRAPH\n    TP_STORE --\x3e GRAPH\n    TP_KIOSK --\x3e GRAPH\n    TP_CHAT --\x3e GRAPH\n    TP_SOCIAL --\x3e GRAPH\n    TP_VOICE --\x3e GRAPH\n\n    GRAPH --\x3e PREFS\n    GRAPH --\x3e HISTORY\n    GRAPH --\x3e CART_STATE\n    GRAPH --\x3e LOYALTY_STATE\n    GRAPH --\x3e SEGMENTS\n\n    PREFS --\x3e PERSONALIZATION_OUT\n    HISTORY --\x3e PERSONALIZATION_OUT\n    SEGMENTS --\x3e MARKETING_OUT\n    LOYALTY_STATE --\x3e PRICING_OUT\n    HISTORY --\x3e ASSISTANT_OUT\n    CART_STATE --\x3e ASSISTANT_OUT\n    SEGMENTS --\x3e ANALYTICS_OUT\n    HISTORY --\x3e ANALYTICS_OUT\n\n    style Identity fill:#e74c3c,color:#fff\n    style Touchpoints fill:#3498db,color:#fff\n    style UnifiedProfile fill:#2c3e50,color:#fff\n    style Downstream fill:#27ae60,color:#fff'}),"\n",(0,s.jsx)(n.h3,{id:"event-flow-per-interaction",children:"Event Flow Per Interaction"}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant TP as Any Touchpoint\n    participant GW as API Gateway\n    participant SESSION as Session Manager\n    participant PROFILE as Customer Profile Service\n    participant EVENT as Event Bus (Kafka)\n    participant AI as Layer 3: AI Engine\n    participant L4 as Layer 4: Business Ops\n\n    TP->>GW: Customer action (browse / cart / purchase)\n    GW->>SESSION: Resolve session + identity\n    SESSION->>PROFILE: Enrich with customer context\n    PROFILE--\x3e>SESSION: Profile (prefs, history, segments, cart)\n    SESSION--\x3e>GW: Enriched context\n    GW->>L4: Execute business action (with context)\n    L4--\x3e>GW: Result (product data, order confirmation, etc.)\n    GW--\x3e>TP: Response (personalized)\n\n    par Async Events\n        GW->>EVENT: Emit interaction event\n        EVENT->>AI: Update customer model\n        EVENT->>PROFILE: Append to interaction history\n        EVENT->>L4: Trigger downstream (loyalty points, campaign, etc.)\n    end"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"channel-capability-matrix",children:"Channel Capability Matrix"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Capability"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Web"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Mobile"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"POS"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Kiosk"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Chat/SMS"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Voice"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Social"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Browse catalog"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Search (text)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Search (visual / camera)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AI assistant"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Add to cart"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Checkout"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Real-time inventory"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Loyalty / rewards"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Personalized recs"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AR try-on"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Barcode scan"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Back-in-stock alerts"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Digital receipts"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Order tracking"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Returns / exchanges"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"--"})]})]})]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>c});var r=t(6540);const s={},i=r.createContext(s);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);
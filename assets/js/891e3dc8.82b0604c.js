"use strict";(globalThis.webpackChunkgodseye=globalThis.webpackChunkgodseye||[]).push([[6304],{2453(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"systems/pos","title":"\ud83d\udda5\ufe0f Point of Sale System","description":"GodsEye POS is a PWA that runs on iPad, Android tablets, and Windows terminals. It operates fully offline, syncs when connected, and integrates all omnichannel workflows. This is core IP -- built in-house from day one.","source":"@site/docs/systems/pos.md","sourceDirName":"systems","slug":"/systems/pos","permalink":"/godseye/systems/pos","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"sidebar_label":"\ud83d\udda5\ufe0f Point of Sale System"},"sidebar":"architectureSidebar","previous":{"title":"\ud83d\udd04 Cross-Cloud Data Synchronization","permalink":"/godseye/systems/data-sync"},"next":{"title":"\ud83d\uded2 Headless Commerce Engine","permalink":"/godseye/systems/commerce-engine"}}');var i=r(4848),s=r(8453);const a={sidebar_position:5,sidebar_label:"\ud83d\udda5\ufe0f Point of Sale System"},o="\ud83d\udda5\ufe0f Point of Sale System",l={},c=[{value:"POS Architecture",id:"pos-architecture",level:2},{value:"Transaction Flow -- Online",id:"transaction-flow----online",level:2},{value:"Transaction Flow -- Offline",id:"transaction-flow----offline",level:2},{value:"Offline Capability Stack",id:"offline-capability-stack",level:2},{value:"Omnichannel POS Workflows",id:"omnichannel-pos-workflows",level:2},{value:"Reference Tables",id:"reference-tables",level:2},{value:"Hardware Compatibility Matrix",id:"hardware-compatibility-matrix",level:3},{value:"POS Device Requirements",id:"pos-device-requirements",level:3},{value:"Build vs. Buy",id:"build-vs-buy",level:3}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",mermaid:"mermaid",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\ufe0f-point-of-sale-system",children:"\ud83d\udda5\ufe0f Point of Sale System"})}),"\n",(0,i.jsx)(n.p,{children:"GodsEye POS is a PWA that runs on iPad, Android tablets, and Windows terminals. It operates fully offline, syncs when connected, and integrates all omnichannel workflows. This is core IP -- built in-house from day one."}),"\n",(0,i.jsx)(n.h2,{id:"pos-architecture",children:"POS Architecture"}),"\n",(0,i.jsx)(n.mermaid,{value:'graph TD\n    subgraph DEVICE["POS Device \u2014 iPad / Android / Windows"]\n        APP["GodsEye POS App\\n(PWA \u2014 TypeScript + React)"]\n        SW["Service Worker\\nAsset caching + offline routing"]\n        subgraph LOCAL["Local Cache Layer"]\n            SQL["SQLite / IndexedDB"]\n            SQL_P["Products & Prices\\n~50k SKUs cached"]\n            SQL_PR["Promotions & Rules"]\n            SQL_E["Employee Auth\\n(hashed credentials)"]\n            SQL_Q["Offline Transaction Queue"]\n            SQL_CL["Customer Loyalty Cache\\nLast sync: periodic"]\n        end\n    end\n\n    subgraph PERIPH["Connected Peripherals"]\n        PAY["Payment Terminal\\nVerifone / Ingenico / PAX\\nEMV + NFC + Mag"]\n        PRINT["Receipt Printer\\nESC/POS over USB/BT"]\n        SCAN["Barcode Scanner\\nUSB HID / Camera"]\n        DRAW["Cash Drawer\\nTriggered by printer"]\n        DISP["Customer Display\\n2nd screen / pole display"]\n    end\n\n    subgraph CLOUD["GodsEye Cloud Services"]\n        GW["API Gateway\\n(Kong / Envoy)"]\n        PYMT["Payment Orchestrator"]\n        INV["Inventory Service"]\n        CUST["Customer Service"]\n        ORD["Order Service"]\n        ANLYT["Analytics Ingest"]\n        PROMO["Promotion Engine"]\n    end\n\n    APP --\x3e SW\n    SW --\x3e SQL\n    SQL --- SQL_P\n    SQL --- SQL_PR\n    SQL --- SQL_E\n    SQL --- SQL_Q\n    SQL --- SQL_CL\n\n    APP <--\x3e|USB / Bluetooth| PAY\n    APP <--\x3e|USB / Bluetooth| PRINT\n    APP <--\x3e|USB HID / Camera API| SCAN\n    APP --\x3e|Trigger via printer| DRAW\n    APP --\x3e|HDMI / USB| DISP\n\n    APP <--\x3e|"HTTPS \u2014 Online Mode"| GW\n    GW --\x3e PYMT\n    GW --\x3e INV\n    GW --\x3e CUST\n    GW --\x3e ORD\n    GW --\x3e ANLYT\n    GW --\x3e PROMO\n\n    APP -.->|"Offline: queue locally"| SQL_Q\n    SQL_Q -.->|"Online restored: flush FIFO"| GW\n\n    style DEVICE fill:#228be6,color:#fff\n    style LOCAL fill:#1971c2,color:#fff\n    style PERIPH fill:#495057,color:#fff\n    style CLOUD fill:#2f9e44,color:#fff'}),"\n",(0,i.jsx)(n.h2,{id:"transaction-flow----online",children:"Transaction Flow -- Online"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n    actor Assoc as Associate\n    participant POS as POS App\n    participant Cache as Local Cache\n    participant API as GodsEye API\n    participant PayOrch as Payment Orchestrator\n    participant PayGW as Payment Gateway<br/>(Stripe/Adyen)\n    participant Inv as Inventory Service\n    participant Analytics as Analytics Pipeline\n\n    Assoc->>POS: Scan barcode / search item\n    POS->>Cache: Lookup product + price\n    Cache--\x3e>POS: Cache HIT (product data)\n    POS->>API: GET /products/{sku} (background freshness check)\n    API--\x3e>POS: 200 OK (confirm price current)\n\n    Assoc->>POS: Add to cart (qty, discounts)\n    POS->>API: POST /cart/items\n    API--\x3e>POS: Cart updated (server-side cart state)\n\n    Note over Assoc,POS: Repeat scan/add for all items\n\n    Assoc->>POS: Tender \u2014 customer pays\n    POS->>POS: Calculate totals + tax\n    POS->>PayOrch: POST /payments/authorize<br/>{amount, method, terminal_id}\n    PayOrch->>PayGW: Forward to processor\n    PayGW--\x3e>PayOrch: AUTH APPROVED (auth_code)\n    PayOrch--\x3e>POS: 200 OK {auth_code, last4}\n\n    POS->>API: POST /transactions<br/>{cart, payment, store, associate}\n    API->>Inv: Decrement inventory (real-time)\n    Inv--\x3e>API: Inventory updated\n    API--\x3e>POS: Transaction ID confirmed\n\n    POS->>POS: Print receipt (ESC/POS)\n    POS->>Analytics: Emit transaction.completed event\n\n    Note over POS,Analytics: End-to-end target: < 4 seconds"}),"\n",(0,i.jsx)(n.h2,{id:"transaction-flow----offline",children:"Transaction Flow -- Offline"}),"\n",(0,i.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant POS as POS App\n    participant SW as Service Worker\n    participant Cache as Local Cache<br/>(SQLite)\n    participant Queue as Offline Queue\n    participant API as GodsEye API\n    participant PayOrch as Payment Orchestrator\n    participant Inv as Inventory Service\n\n    Note over POS,API: Internet connection lost\n\n    POS->>SW: Health check \u2014 /api/ping\n    SW--\x3e>POS: FAIL (timeout 3s)\n    POS->>POS: Switch to OFFLINE MODE<br/>Banner: "Offline \u2014 transactions queued"\n\n    POS->>Cache: Lookup product (local)\n    Cache--\x3e>POS: Product + price from cache\n\n    POS->>POS: Build cart locally<br/>Calculate tax from cached tax tables\n\n    alt Card Payment\n        POS->>POS: Encrypt card data (P2PE)<br/>Store encrypted payload locally\n        Note over POS: PCI DSS store-and-forward<br/>Encrypted at terminal, never decrypted on device\n    else Cash Payment\n        POS->>POS: Record cash tendered + change\n    end\n\n    POS->>Queue: Enqueue transaction<br/>{cart, payment_encrypted, timestamp, seq_num}\n    POS->>POS: Print receipt<br/>(marked "OFFLINE \u2014 pending authorization")\n\n    Note over POS,API: Internet connection restored\n\n    SW->>API: Health check \u2014 /api/ping\n    API--\x3e>SW: 200 OK\n    POS->>POS: Switch to ONLINE MODE\n\n    loop For each queued transaction (FIFO)\n        Queue->>API: POST /transactions/offline-sync<br/>{transaction, payment_encrypted}\n        API->>PayOrch: Forward stored payment for auth\n        PayOrch--\x3e>API: AUTH result\n        alt Payment Approved\n            API->>Inv: Decrement inventory\n            Inv--\x3e>API: Reconciled\n            API--\x3e>POS: Sync OK \u2014 transaction confirmed\n        else Payment Declined\n            API--\x3e>POS: Sync FAILED \u2014 flag for manager review\n            POS->>POS: Alert: "Offline txn #{id} declined"\n        end\n    end\n\n    POS->>API: POST /inventory/reconcile<br/>{store_id, offline_period}\n    API->>Inv: Full inventory recount reconciliation'}),"\n",(0,i.jsx)(n.h2,{id:"offline-capability-stack",children:"Offline Capability Stack"}),"\n",(0,i.jsx)(n.mermaid,{value:'graph TD\n    subgraph WORKS["Fully Functional Offline"]\n        direction TB\n        W1["Item Lookup & Search\\n50k SKUs cached locally"]\n        W2["Price Check\\nCached price + tax tables"]\n        W3["Employee Login\\nHashed credentials stored locally"]\n        W4["Card Payment\\nStore-and-forward (P2PE encrypted)"]\n        W5["Cash Payment\\nFull cash handling + change calc"]\n        W6["Returns \u2014 Limited\\nRecent transactions cached\\nRefund to original tender queued"]\n        W7["Loyalty \u2014 Cached\\nPoint balance from last sync\\nNew points queued"]\n        W8["Discounts & Promotions\\nCached promotion rules engine"]\n        W9["Receipt Printing\\nFull receipt with offline indicator"]\n        W10["Associate Productivity\\nShift tracking, break logging"]\n    end\n\n    subgraph DEGRADED["Degraded / Unavailable Offline"]\n        direction TB\n        D1["Real-Time Inventory\\nShows last-known count\\nNo cross-store visibility"]\n        D2["Online Order Lookup\\nCannot query cloud orders"]\n        D3["Gift Card Balance Check\\nCannot validate live balance\\nAccept with risk flag"]\n        D4["New Promotion Activation\\nCannot download new promos\\nUses last-synced rules"]\n        D5["Cross-Store Transfer\\nRequires cloud connectivity"]\n        D6["Customer Account Creation\\nQueued for sync"]\n        D7["Price Override Auth\\nManager PIN works offline\\nAudit logged on sync"]\n    end\n\n    WORKS ---|"Cache sync every 15 min\\nwhen online"| SYNC["Sync Engine"]\n    DEGRADED ---|"Restored on\\nreconnection"| SYNC\n    SYNC --\x3e CLOUD["GodsEye Cloud"]\n\n    style WORKS fill:#2f9e44,color:#fff\n    style DEGRADED fill:#e03131,color:#fff\n    style SYNC fill:#1971c2,color:#fff'}),"\n",(0,i.jsx)(n.h2,{id:"omnichannel-pos-workflows",children:"Omnichannel POS Workflows"}),"\n",(0,i.jsx)(n.mermaid,{value:'flowchart LR\n    POS["GodsEye POS\\n(Associate Device)"]\n\n    POS --\x3e CLIENT["Clienteling"]\n    CLIENT --\x3e CLIENT_D["Pull up customer profile\\nPurchase history + preferences\\nAI-suggested recommendations\\nWishlist access"]\n\n    POS --\x3e ENDLESS["Endless Aisle"]\n    ENDLESS --\x3e ENDLESS_D["Item not in store?\\nSearch all warehouses + stores\\nPlace order from POS\\nShip to customer home\\nor ship to this store"]\n\n    POS --\x3e BOPIS["BOPIS Pickup"]\n    BOPIS --\x3e BOPIS_D["Customer arrives\\nScan order QR code\\nVerify ID if required\\nMark as picked up\\nTrigger confirmation email"]\n\n    POS --\x3e SHIP["Ship-from-Store"]\n    SHIP --\x3e SHIP_D["Online order routed to store\\nGenerate pick list\\nAssociate picks items\\nPrint shipping label\\nCarrier pickup scheduled"]\n\n    POS --\x3e RETURNS["Omni-Returns"]\n    RETURNS --\x3e RETURNS_D["Return online order in store\\nScan order barcode / QR\\nInspect item condition\\nProcess refund to original\\ntender or store credit"]\n\n    POS --\x3e LOYALTY["Cross-Channel Loyalty"]\n    LOYALTY --\x3e LOYALTY_D["Unified point balance\\nEarn in-store, redeem online\\nTier status visible\\nBirthday / VIP promotions\\nReceipt shows points earned"]\n\n    POS --\x3e APPT["Appointments"]\n    APPT --\x3e APPT_D["View scheduled appointments\\nCustomer booked online\\nAssociate prepared with\\nprofile + recommendations"]\n\n    style POS fill:#228be6,color:#fff\n    style CLIENT fill:#1971c2,color:#fff\n    style ENDLESS fill:#1971c2,color:#fff\n    style BOPIS fill:#1971c2,color:#fff\n    style SHIP fill:#1971c2,color:#fff\n    style RETURNS fill:#1971c2,color:#fff\n    style LOYALTY fill:#1971c2,color:#fff\n    style APPT fill:#1971c2,color:#fff'}),"\n",(0,i.jsx)(n.h2,{id:"reference-tables",children:"Reference Tables"}),"\n",(0,i.jsx)(n.h3,{id:"hardware-compatibility-matrix",children:"Hardware Compatibility Matrix"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Peripheral"}),(0,i.jsx)(n.th,{children:"Protocol"}),(0,i.jsx)(n.th,{children:"Supported Models"}),(0,i.jsx)(n.th,{children:"Connection"}),(0,i.jsx)(n.th,{children:"Offline Support"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Payment Terminal"}),(0,i.jsx)(n.td,{children:"Semi-integrated (chip+PIN)"}),(0,i.jsx)(n.td,{children:"Verifone P400, Ingenico Lane/3000, PAX A80"}),(0,i.jsx)(n.td,{children:"USB / Ethernet / Bluetooth"}),(0,i.jsx)(n.td,{children:"Store-and-forward (P2PE)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Receipt Printer"}),(0,i.jsx)(n.td,{children:"ESC/POS"}),(0,i.jsx)(n.td,{children:"Epson TM-T88VI, Star TSP143IV, Bixolon SRP-350V"}),(0,i.jsx)(n.td,{children:"USB / Bluetooth / Wi-Fi"}),(0,i.jsx)(n.td,{children:"Full"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Barcode Scanner"}),(0,i.jsx)(n.td,{children:"USB HID / Camera"}),(0,i.jsx)(n.td,{children:"Socket Mobile S740, Zebra DS2208, built-in camera"}),(0,i.jsx)(n.td,{children:"USB / Bluetooth"}),(0,i.jsx)(n.td,{children:"Full"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cash Drawer"}),(0,i.jsx)(n.td,{children:"DK port (printer-driven)"}),(0,i.jsx)(n.td,{children:"APG Vasario, MMF Val-u Line"}),(0,i.jsx)(n.td,{children:"Printer DK port"}),(0,i.jsx)(n.td,{children:"Full"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Customer Display"}),(0,i.jsx)(n.td,{children:"Secondary screen"}),(0,i.jsx)(n.td,{children:"Any HDMI/USB display, pole display via serial"}),(0,i.jsx)(n.td,{children:"HDMI / USB / Serial"}),(0,i.jsx)(n.td,{children:"Full"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Label Printer"}),(0,i.jsx)(n.td,{children:"ZPL / ESC/POS"}),(0,i.jsx)(n.td,{children:"Zebra ZD421, Brother QL-820NWB"}),(0,i.jsx)(n.td,{children:"USB / Wi-Fi / Bluetooth"}),(0,i.jsx)(n.td,{children:"Full"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Scale"}),(0,i.jsx)(n.td,{children:"RS-232 / USB"}),(0,i.jsx)(n.td,{children:"CAS SW-1S, Avery Berkel"}),(0,i.jsx)(n.td,{children:"USB / Serial"}),(0,i.jsx)(n.td,{children:"Full"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"pos-device-requirements",children:"POS Device Requirements"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Platform"}),(0,i.jsx)(n.th,{children:"Minimum Spec"}),(0,i.jsx)(n.th,{children:"Recommended"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"iPad"}),(0,i.jsx)(n.td,{children:"iPad 9th gen, iPadOS 16+"}),(0,i.jsx)(n.td,{children:"iPad 10th gen or iPad Air"}),(0,i.jsx)(n.td,{children:"Camera barcode scanning built-in"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Android Tablet"}),(0,i.jsx)(n.td,{children:"Android 12+, 4GB RAM, ARM64"}),(0,i.jsx)(n.td,{children:"Samsung Galaxy Tab A8 or Lenovo Tab M10"}),(0,i.jsx)(n.td,{children:"Chrome 110+ required for PWA"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Windows Terminal"}),(0,i.jsx)(n.td,{children:"Windows 10+, 8GB RAM, SSD"}),(0,i.jsx)(n.td,{children:"Elo I-Series, HP Engage One"}),(0,i.jsx)(n.td,{children:"Supports full USB peripheral stack"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Linux Terminal"}),(0,i.jsx)(n.td,{children:"Ubuntu 22.04+, 4GB RAM"}),(0,i.jsx)(n.td,{children:"Custom kiosk image available"}),(0,i.jsx)(n.td,{children:"Chromium-based PWA"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"build-vs-buy",children:"Build vs. Buy"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Strategy"}),(0,i.jsx)(n.th,{children:"Rationale"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"POS Application"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"GodsEye-built from Day 1"})}),(0,i.jsx)(n.td,{children:"Core IP. Omnichannel workflows and offline capability are primary differentiators. Must own completely."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Payment Terminals"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Third-party forever"})}),(0,i.jsx)(n.td,{children:"Hardware is commodity. Verifone/Ingenico/PAX handle PCI terminal certification. Integrate via semi-integrated protocol."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Payment Processing"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Third-party"})," (Stripe/Adyen)"]}),(0,i.jsx)(n.td,{children:"Processor relationships, PCI Level 1 compliance, and fraud tooling are not worth building. Abstract behind Payment Orchestrator for portability."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Receipt / Label Printers"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Third-party forever"})}),(0,i.jsx)(n.td,{children:"Commodity hardware. ESC/POS and ZPL are standard protocols."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Barcode Scanning"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Third-party hardware"}),", GodsEye camera scanning"]}),(0,i.jsx)(n.td,{children:"Hardware scanners are commodity. Camera-based scanning (ML barcode detection) is GodsEye-built for device flexibility."})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>o});var t=r(6540);const i={},s=t.createContext(i);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);
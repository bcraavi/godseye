"use strict";(globalThis.webpackChunkgodseye=globalThis.webpackChunkgodseye||[]).push([[3205],{2280(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"strategy/multi-cloud","title":"Multi-Cloud Strategy","description":"The Triplet Model: GodsEye runs on AWS (primary), GCP (secondary), and Azure (tertiary) \u2014 three clouds, zero data centers. Every layer of the stack \u2014 infrastructure, development, data, AI, and operations \u2014 is distributed across this triangle. See Triplet Model Strategy for the full methodology.","source":"@site/docs/strategy/multi-cloud.md","sourceDirName":"strategy","slug":"/strategy/multi-cloud","permalink":"/godseye/strategy/multi-cloud","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Multi-Cloud Strategy","sidebar_label":"\u2601\ufe0f Multi-Cloud Strategy"},"sidebar":"architectureSidebar","previous":{"title":"\ud83d\udd28 Build vs Buy Strategy","permalink":"/godseye/strategy/build-vs-buy"},"next":{"title":"\ud83c\udfe2 Multi-Tenant Architecture","permalink":"/godseye/strategy/multi-tenant"}}');var s=r(4848),i=r(8453);const l={sidebar_position:2,title:"Multi-Cloud Strategy",sidebar_label:"\u2601\ufe0f Multi-Cloud Strategy"},d="\u2601\ufe0f Multi-Cloud Strategy",c={},o=[{value:"Service Tier Classification",id:"service-tier-classification",level:2},{value:"Tier 1 -- CRITICAL (&quot;Never Down&quot;)",id:"tier-1----critical-never-down",level:3},{value:"Tier 2 -- IMPORTANT (&quot;Degrade Gracefully&quot;)",id:"tier-2----important-degrade-gracefully",level:3},{value:"Tier 3 -- STANDARD (&quot;Recover in Hours&quot;)",id:"tier-3----standard-recover-in-hours",level:3},{value:"Three-Tier Deployment Architecture",id:"three-tier-deployment-architecture",level:2},{value:"Cross-Cloud Network Topology",id:"cross-cloud-network-topology",level:2},{value:"Network Specifications",id:"network-specifications",level:3},{value:"Cross-Cloud Data Sync",id:"cross-cloud-data-sync",level:2},{value:"Sync Tier Details",id:"sync-tier-details",level:3},{value:"Conflict Resolution Strategy",id:"conflict-resolution-strategy",level:2},{value:"Failover Flow",id:"failover-flow",level:2},{value:"Failover SLAs",id:"failover-slas",level:3},{value:"Infrastructure as Code",id:"infrastructure-as-code",level:2},{value:"IaC Stack",id:"iac-stack",level:3},{value:"Deployment Flow",id:"deployment-flow",level:3},{value:"Cost Model",id:"cost-model",level:2},{value:"Summary",id:"summary",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\ufe0f-multi-cloud-strategy",children:"\u2601\ufe0f Multi-Cloud Strategy"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The Triplet Model:"})," GodsEye runs on AWS (primary), GCP (secondary), and Azure (tertiary) \u2014 three clouds, zero data centers. Every layer of the stack \u2014 infrastructure, development, data, AI, and operations \u2014 is distributed across this triangle. See ",(0,s.jsx)(n.a,{href:"/godseye/strategy/triplet-model",children:"Triplet Model Strategy"})," for the full methodology."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"service-tier-classification",children:"Service Tier Classification"}),"\n",(0,s.jsx)(n.p,{children:"Every GodsEye service is assigned a deployment tier based on business criticality."}),"\n",(0,s.jsx)(n.h3,{id:"tier-1----critical-never-down",children:'Tier 1 -- CRITICAL ("Never Down")'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Runs on ALL 3 clouds, active-active."})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Service"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"AWS"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"GCP"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Azure"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Auth / Identity"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Payment Gateway"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Cart / Checkout"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Product Catalog (read)"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Order Capture"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"POS Engine"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DNS / GLB"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Route 53"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Cloud DNS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Azure DNS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CDN"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"CloudFront"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Cloud CDN"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Azure CDN"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Session Store"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"ElastiCache"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Memorystore"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Azure Cache"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SSL/TLS Termination"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"ALB"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GCP GLB"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"Front Door"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Rate Limiting"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Health Check Orchestrator"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"EKS"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"GKE"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"AKS"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"tier-2----important-degrade-gracefully",children:'Tier 2 -- IMPORTANT ("Degrade Gracefully")'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Runs on 2 clouds, active-passive."})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Service"}),(0,s.jsx)(n.th,{children:"Primary"}),(0,s.jsx)(n.th,{children:"Secondary"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Inventory"}),(0,s.jsx)(n.td,{children:"AWS"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Search"}),(0,s.jsx)(n.td,{children:"AWS"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Customer Profile"}),(0,s.jsx)(n.td,{children:"GCP"}),(0,s.jsx)(n.td,{children:"Azure"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Pricing Engine"}),(0,s.jsx)(n.td,{children:"AWS"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Notifications"}),(0,s.jsx)(n.td,{children:"AWS"}),(0,s.jsx)(n.td,{children:"Azure"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"AI Shopping Assistant"}),(0,s.jsx)(n.td,{children:"GCP"}),(0,s.jsx)(n.td,{children:"AWS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Fraud Detection"}),(0,s.jsx)(n.td,{children:"AWS"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"API Gateway"}),(0,s.jsx)(n.td,{children:"AWS"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kafka / Event Bus"}),(0,s.jsx)(n.td,{children:"AWS (MSK)"}),(0,s.jsx)(n.td,{children:"GCP (Pub/Sub)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Observability Pipeline"}),(0,s.jsx)(n.td,{children:"AWS"}),(0,s.jsx)(n.td,{children:"GCP"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"tier-3----standard-recover-in-hours",children:'Tier 3 -- STANDARD ("Recover in Hours")'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Runs on 1 cloud. Cold standby or restore-from-backup."})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Service"}),(0,s.jsx)(n.th,{children:"Cloud"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Merchandising"}),(0,s.jsx)(n.td,{children:"AWS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Supply Chain Planning"}),(0,s.jsx)(n.td,{children:"AWS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Vendor Portal"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Workforce Management"}),(0,s.jsx)(n.td,{children:"Azure"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Finance / Accounting"}),(0,s.jsx)(n.td,{children:"AWS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Analytics / BI"}),(0,s.jsx)(n.td,{children:"GCP (BigQuery)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Marketing Automation"}),(0,s.jsx)(n.td,{children:"AWS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Returns Processing"}),(0,s.jsx)(n.td,{children:"AWS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CI/CD Platform"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Developer Portal"}),(0,s.jsx)(n.td,{children:"GCP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Data Warehouse"}),(0,s.jsx)(n.td,{children:"GCP (BigQuery)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Batch Processing"}),(0,s.jsx)(n.td,{children:"AWS (EMR)"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"three-tier-deployment-architecture",children:"Three-Tier Deployment Architecture"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart TB\n    subgraph GLB["Global Traffic Layer"]\n        DNS["CloudFlare + Route53\\nGlobal DNS"]\n        GLB_LB["Global Load Balancer\\n(latency-based routing)"]\n    end\n\n    DNS --\x3e GLB_LB\n\n    subgraph AWS["AWS (us-east-1, eu-west-1)"]\n        direction TB\n        AWS_LB["ALB"]\n        subgraph AWS_T1["Tier 1 \u2014 Active"]\n            AWS_AUTH["Auth"]\n            AWS_PAY["Payments"]\n            AWS_CART["Cart"]\n            AWS_CAT["Catalog"]\n            AWS_ORD["Orders"]\n            AWS_POS["POS"]\n        end\n        subgraph AWS_T2["Tier 2 \u2014 Primary"]\n            AWS_INV["Inventory"]\n            AWS_SRCH["Search"]\n            AWS_PRICE["Pricing"]\n            AWS_FRAUD["Fraud"]\n        end\n        subgraph AWS_T3["Tier 3"]\n            AWS_MERCH["Merchandising"]\n            AWS_FIN["Finance"]\n            AWS_MKT["Marketing"]\n        end\n        AWS_LB --\x3e AWS_T1 & AWS_T2 & AWS_T3\n    end\n\n    subgraph GCP["GCP (us-central1, europe-west1)"]\n        direction TB\n        GCP_LB["GCP GLB"]\n        subgraph GCP_T1["Tier 1 \u2014 Active"]\n            GCP_AUTH["Auth"]\n            GCP_PAY["Payments"]\n            GCP_CART["Cart"]\n            GCP_CAT["Catalog"]\n            GCP_ORD["Orders"]\n            GCP_POS["POS"]\n        end\n        subgraph GCP_T2["Tier 2 \u2014 Secondary"]\n            GCP_INV["Inventory"]\n            GCP_SRCH["Search"]\n            GCP_AI["AI Shopping"]\n        end\n        subgraph GCP_T3["Tier 3"]\n            GCP_ANALYTICS["Analytics"]\n            GCP_VENDOR["Vendor Portal"]\n            GCP_CICD["CI/CD"]\n        end\n        GCP_LB --\x3e GCP_T1 & GCP_T2 & GCP_T3\n    end\n\n    subgraph AZ["Azure (eastus, westeurope)"]\n        direction TB\n        AZ_LB["Azure Front Door"]\n        subgraph AZ_T1["Tier 1 \u2014 Active"]\n            AZ_AUTH["Auth"]\n            AZ_PAY["Payments"]\n            AZ_CART["Cart"]\n            AZ_CAT["Catalog"]\n            AZ_ORD["Orders"]\n            AZ_POS["POS"]\n        end\n        subgraph AZ_T2["Tier 2 \u2014 Secondary"]\n            AZ_CUST["Customer Profile"]\n            AZ_NOTIF["Notifications"]\n        end\n        subgraph AZ_T3["Tier 3"]\n            AZ_WFM["Workforce Mgmt"]\n        end\n        AZ_LB --\x3e AZ_T1 & AZ_T2 & AZ_T3\n    end\n\n    GLB_LB --\x3e AWS_LB & GCP_LB & AZ_LB\n\n    style AWS fill:#ff9900,color:#000\n    style GCP fill:#4285f4,color:#fff\n    style AZ fill:#0078d4,color:#fff\n    style AWS_T1 fill:#16a34a,color:#fff\n    style GCP_T1 fill:#16a34a,color:#fff\n    style AZ_T1 fill:#16a34a,color:#fff'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cross-cloud-network-topology",children:"Cross-Cloud Network Topology"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart TB\n    subgraph Internet["Public Internet"]\n        USERS["Users / POS / Mobile"]\n    end\n\n    subgraph DNS_Layer["DNS Layer"]\n        CF["CloudFlare\\n(DDoS, WAF, DNS)"]\n        R53["Route 53\\n(failover routing)"]\n    end\n\n    USERS --\x3e CF --\x3e R53\n\n    subgraph AWS_Net["AWS Network"]\n        AWS_ALB["ALB\\n(TLS termination)"]\n        AWS_MESH["Istio Mesh\\n(EKS)"]\n        AWS_DB["Aurora +\\nElastiCache"]\n    end\n\n    subgraph GCP_Net["GCP Network"]\n        GCP_GLB["GCP GLB\\n(TLS termination)"]\n        GCP_MESH["Istio Mesh\\n(GKE)"]\n        GCP_DB["Spanner +\\nMemorystore"]\n    end\n\n    subgraph AZ_Net["Azure Network"]\n        AZ_FD["Front Door\\n(TLS termination)"]\n        AZ_MESH["Istio Mesh\\n(AKS)"]\n        AZ_DB["Cosmos DB +\\nAzure Cache"]\n    end\n\n    R53 --\x3e AWS_ALB & GCP_GLB & AZ_FD\n    AWS_ALB --\x3e AWS_MESH --\x3e AWS_DB\n    GCP_GLB --\x3e GCP_MESH --\x3e GCP_DB\n    AZ_FD --\x3e AZ_MESH --\x3e AZ_DB\n\n    subgraph CrossCloud["Cross-Cloud Service Mesh"]\n        CONSUL["Consul Connect\\n(mTLS, service discovery)"]\n        CB["Circuit Breakers\\n(per-cloud health)"]\n        FAILOVER["Auto-Failover\\nController"]\n    end\n\n    AWS_MESH <--\x3e CONSUL\n    GCP_MESH <--\x3e CONSUL\n    AZ_MESH <--\x3e CONSUL\n    CONSUL --\x3e CB --\x3e FAILOVER\n\n    subgraph DataSync["Cross-Cloud Data Plane"]\n        CRDB["CockroachDB\\n(multi-region)"]\n        KAFKA["Kafka MirrorMaker 2\\n(event replication)"]\n        OBJ["S3 \u2194 GCS \u2194 Blob\\n(object replication)"]\n    end\n\n    AWS_DB <--\x3e CRDB\n    GCP_DB <--\x3e CRDB\n    AZ_DB <--\x3e CRDB\n    AWS_DB <--\x3e KAFKA <--\x3e GCP_DB\n    KAFKA <--\x3e AZ_DB\n\n    style CrossCloud fill:#7c3aed,color:#fff\n    style DataSync fill:#0891b2,color:#fff'}),"\n",(0,s.jsx)(n.h3,{id:"network-specifications",children:"Network Specifications"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Technology"}),(0,s.jsx)(n.th,{children:"Purpose"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Global DNS"}),(0,s.jsx)(n.td,{children:"CloudFlare + Route 53"}),(0,s.jsx)(n.td,{children:"DDoS protection, latency-based routing, failover"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Per-Cloud LB"}),(0,s.jsx)(n.td,{children:"ALB / GCP GLB / Azure Front Door"}),(0,s.jsx)(n.td,{children:"TLS termination, health checks, regional routing"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Service Mesh"}),(0,s.jsx)(n.td,{children:"Istio + Consul Connect"}),(0,s.jsx)(n.td,{children:"mTLS between services, circuit breakers, auto-failover"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Cross-Cloud Mesh"}),(0,s.jsx)(n.td,{children:"Consul Connect (WAN federation)"}),(0,s.jsx)(n.td,{children:"Service discovery across clouds, encrypted tunnels"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes"}),(0,s.jsx)(n.td,{children:"EKS / GKE / AKS"}),(0,s.jsx)(n.td,{children:"Container orchestration per cloud"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cross-cloud-data-sync",children:"Cross-Cloud Data Sync"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart LR\n    subgraph RT["Real-Time < 1s"]\n        direction TB\n        RT_DATA["Cart State\\nSession Data\\nAuth Tokens\\nPayment State"]\n        RT_TECH["CockroachDB / Spanner\\n+ Redis CRDT"]\n    end\n\n    subgraph NRT["Near-Real-Time < 30s"]\n        direction TB\n        NRT_DATA["Product Catalog\\nInventory Counts\\nCustomer Profiles\\nOrder State"]\n        NRT_TECH["Kafka MirrorMaker 2\\n+ Change Data Capture"]\n    end\n\n    subgraph BATCH["Batch (Hourly / Daily)"]\n        direction TB\n        BATCH_DATA["Analytics Events\\nHistorical Data\\nVendor Data\\nML Training Sets"]\n        BATCH_TECH["S3 \u2192 GCS \u2192 Blob\\nCross-Region Replication"]\n    end\n\n    RT_DATA --\x3e RT_TECH\n    NRT_DATA --\x3e NRT_TECH\n    BATCH_DATA --\x3e BATCH_TECH\n\n    subgraph Clouds["Target Clouds"]\n        AWS_S["AWS"]\n        GCP_S["GCP"]\n        AZ_S["Azure"]\n    end\n\n    RT_TECH --\x3e AWS_S & GCP_S & AZ_S\n    NRT_TECH --\x3e AWS_S & GCP_S & AZ_S\n    BATCH_TECH --\x3e AWS_S & GCP_S & AZ_S\n\n    style RT fill:#dc2626,color:#fff\n    style NRT fill:#f59e0b,color:#000\n    style BATCH fill:#6b7280,color:#fff'}),"\n",(0,s.jsx)(n.h3,{id:"sync-tier-details",children:"Sync Tier Details"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Tier"}),(0,s.jsx)(n.th,{children:"Latency Target"}),(0,s.jsx)(n.th,{children:"Data Types"}),(0,s.jsx)(n.th,{children:"Technology"}),(0,s.jsx)(n.th,{children:"Consistency Model"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Real-Time"}),(0,s.jsx)(n.td,{children:"< 1 second"}),(0,s.jsx)(n.td,{children:"Cart, session, auth tokens, payment state"}),(0,s.jsx)(n.td,{children:"CockroachDB / Spanner + Redis CRDT"}),(0,s.jsx)(n.td,{children:"Strong (serializable) for payments; eventual for session"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Near-Real-Time"}),(0,s.jsx)(n.td,{children:"< 30 seconds"}),(0,s.jsx)(n.td,{children:"Catalog, inventory, profiles, orders"}),(0,s.jsx)(n.td,{children:"Kafka MirrorMaker 2 + CDC"}),(0,s.jsx)(n.td,{children:"Eventual consistency with ordering guarantees"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Batch"}),(0,s.jsx)(n.td,{children:"Hourly / Daily"}),(0,s.jsx)(n.td,{children:"Analytics, history, vendor data, ML datasets"}),(0,s.jsx)(n.td,{children:"S3 cross-region replication, scheduled ETL"}),(0,s.jsx)(n.td,{children:"Eventually consistent, idempotent loads"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"conflict-resolution-strategy",children:"Conflict Resolution Strategy"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Data Type"}),(0,s.jsx)(n.th,{children:"Strategy"}),(0,s.jsx)(n.th,{children:"Rationale"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Operational data (config, metadata)"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"Last-write-wins"})," (LWW) with vector clocks"]}),(0,s.jsx)(n.td,{children:"Simple, sufficient for low-contention data"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Cart / Session"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"CRDT"})," (Conflict-free Replicated Data Types)"]}),(0,s.jsx)(n.td,{children:"Supports concurrent updates from multiple clouds without coordination"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Inventory counts"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Application-level merge"})}),(0,s.jsx)(n.td,{children:"Business rules determine merge (e.g., min-of-all-counts for safety)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Order state"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Event sourcing"})}),(0,s.jsx)(n.td,{children:"Full audit trail; replay events to reconstruct state after conflict"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Payment state"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Single-leader with synchronous replication"})}),(0,s.jsx)(n.td,{children:"Cannot tolerate conflicts; one cloud owns write, others replicate"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"failover-flow",children:"Failover Flow"}),"\n",(0,s.jsx)(n.p,{children:"What happens when an entire cloud goes down:"}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant HC as Health Check<br/>Orchestrator\n    participant DNS as Global DNS<br/>(CloudFlare + R53)\n    participant AWS as AWS\n    participant GCP as GCP\n    participant AZ as Azure\n    participant CONSUL as Consul<br/>Service Mesh\n\n    Note over HC: Continuous health probes<br/>every 5 seconds\n\n    HC->>AWS: Health probe\n    AWS--xHC: TIMEOUT (3 consecutive)\n\n    HC->>HC: AWS marked UNHEALTHY\n\n    par Parallel Failover Actions\n        HC->>DNS: Remove AWS endpoints<br/>from DNS pool\n        HC->>CONSUL: Update service catalog<br/>(AWS services unavailable)\n        HC->>GCP: Promote Tier 2 services<br/>from passive \u2192 active\n        HC->>AZ: Promote Tier 2 services<br/>from passive \u2192 active\n    end\n\n    Note over DNS: TTL: 30s for Tier 1<br/>DNS propagation < 60s\n\n    DNS->>GCP: Route Tier 1 traffic<br/>(was 33% \u2192 now 50%)\n    DNS->>AZ: Route Tier 1 traffic<br/>(was 33% \u2192 now 50%)\n\n    CONSUL->>GCP: Circuit breaker OPEN<br/>for AWS-dependent calls\n    CONSUL->>AZ: Circuit breaker OPEN<br/>for AWS-dependent calls\n\n    Note over GCP,AZ: Tier 1: Zero downtime (active-active)<br/>Tier 2: < 30s failover<br/>Tier 3: Manual recovery (hours)\n\n    HC->>AWS: Health probe (continuous)\n    AWS--\x3e>HC: HEALTHY (5 consecutive)\n    HC->>HC: AWS marked HEALTHY\n\n    par Recovery\n        HC->>DNS: Re-add AWS endpoints\n        HC->>CONSUL: Restore AWS services\n        HC->>GCP: Demote back to normal weight\n        HC->>AZ: Demote back to normal weight\n    end\n\n    Note over AWS,AZ: Data sync catches up<br/>via CockroachDB + Kafka"}),"\n",(0,s.jsx)(n.h3,{id:"failover-slas",children:"Failover SLAs"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Tier"}),(0,s.jsx)(n.th,{children:"Detection Time"}),(0,s.jsx)(n.th,{children:"Failover Time"}),(0,s.jsx)(n.th,{children:"Total Downtime"}),(0,s.jsx)(n.th,{children:"Data Loss"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tier 1 (Critical)"}),(0,s.jsx)(n.td,{children:"15 seconds"}),(0,s.jsx)(n.td,{children:"0 seconds (active-active)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"0 seconds"})}),(0,s.jsx)(n.td,{children:"Zero (synchronous replication)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tier 2 (Important)"}),(0,s.jsx)(n.td,{children:"15 seconds"}),(0,s.jsx)(n.td,{children:"< 30 seconds"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"< 45 seconds"})}),(0,s.jsx)(n.td,{children:"< 1 second of events (async replication)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tier 3 (Standard)"}),(0,s.jsx)(n.td,{children:"15 seconds"}),(0,s.jsx)(n.td,{children:"Manual (1-4 hours)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"1-4 hours"})}),(0,s.jsx)(n.td,{children:"< 1 hour (backup restore)"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"infrastructure-as-code",children:"Infrastructure as Code"}),"\n",(0,s.jsx)(n.mermaid,{value:'flowchart TB\n    subgraph Source["Source of Truth"]\n        GIT["Git Repository\\n(platform-infra)"]\n    end\n\n    subgraph IaC["Provisioning Layer"]\n        TF["Terraform\\n(cloud-specific resources)"]\n        CP["Crossplane\\n(cloud-agnostic abstractions)"]\n    end\n\n    subgraph GitOps["GitOps Deployment"]\n        ARGO["ArgoCD\\n(multi-cluster)"]\n    end\n\n    GIT --\x3e TF & CP\n    GIT --\x3e ARGO\n\n    subgraph AWS_Infra["AWS Infrastructure"]\n        AWS_EKS["EKS Clusters"]\n        AWS_RDS["Aurora / ElastiCache"]\n        AWS_MSK["MSK (Kafka)"]\n        AWS_S3["S3"]\n    end\n\n    subgraph GCP_Infra["GCP Infrastructure"]\n        GCP_GKE["GKE Clusters"]\n        GCP_SPAN["Spanner / Memorystore"]\n        GCP_PS["Pub/Sub"]\n        GCP_GCS["GCS"]\n    end\n\n    subgraph AZ_Infra["Azure Infrastructure"]\n        AZ_AKS["AKS Clusters"]\n        AZ_COSMOS["Cosmos DB / Azure Cache"]\n        AZ_EH["Event Hubs"]\n        AZ_BLOB["Blob Storage"]\n    end\n\n    TF --\x3e AWS_Infra & GCP_Infra & AZ_Infra\n    CP --\x3e AWS_Infra & GCP_Infra & AZ_Infra\n\n    ARGO --\x3e|"Sync workloads"| AWS_EKS & GCP_GKE & AZ_AKS\n\n    subgraph Monitoring["Deployment Observability"]\n        GRAF["Grafana\\n(unified dashboard)"]\n        ALERT["PagerDuty\\n(alerting)"]\n    end\n\n    AWS_EKS & GCP_GKE & AZ_AKS --\x3e GRAF --\x3e ALERT\n\n    style Source fill:#7c3aed,color:#fff\n    style GitOps fill:#22c55e,color:#fff'}),"\n",(0,s.jsx)(n.h3,{id:"iac-stack",children:"IaC Stack"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Layer"}),(0,s.jsx)(n.th,{children:"Tool"}),(0,s.jsx)(n.th,{children:"Purpose"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Cloud resources"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Terraform"})}),(0,s.jsx)(n.td,{children:"VPCs, subnets, K8s clusters, managed DBs, IAM -- cloud-specific modules"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Cloud abstractions"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Crossplane"})}),(0,s.jsx)(n.td,{children:"Cloud-agnostic CRDs for databases, caches, queues -- single manifest, multi-cloud"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Workload deployment"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"ArgoCD"})}),(0,s.jsx)(n.td,{children:"GitOps sync of Helm charts and Kustomize overlays to all clusters"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Secrets"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Vault (HashiCorp)"})}),(0,s.jsx)(n.td,{children:"Centralized secrets, auto-rotation, cloud-agnostic access"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Policy"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"OPA / Gatekeeper"})}),(0,s.jsx)(n.td,{children:"Enforce deployment policies (resource limits, labels, security) across all clusters"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"deployment-flow",children:"Deployment Flow"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. Engineer merges PR to platform-infra repo\n2. Terraform Cloud detects change \u2192 plans + applies infra changes\n3. Crossplane controller reconciles cloud-agnostic resources\n4. ArgoCD detects new manifests \u2192 syncs to EKS + GKE + AKS\n5. Canary rollout: 5% \u2192 25% \u2192 50% \u2192 100% per cloud\n6. Grafana dashboards validate health across all clusters\n7. Auto-rollback if error rate > 1% in any cloud\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"cost-model",children:"Cost Model"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Tier"}),(0,s.jsx)(n.th,{children:"Multi-Cloud Overhead"}),(0,s.jsx)(n.th,{children:"Justification"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tier 1 (3x clouds)"}),(0,s.jsx)(n.td,{children:"~2.8x single-cloud cost"}),(0,s.jsx)(n.td,{children:"Revenue-critical. Downtime cost >> infrastructure cost."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tier 2 (2x clouds)"}),(0,s.jsx)(n.td,{children:"~1.6x single-cloud cost"}),(0,s.jsx)(n.td,{children:"Degradation acceptable. Passive replica is minimal compute."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tier 3 (1x cloud)"}),(0,s.jsx)(n.td,{children:"1x (no overhead)"}),(0,s.jsx)(n.td,{children:"Hours of downtime tolerable. Backup restore sufficient."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Blended average"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"~1.7x single-cloud"})}),(0,s.jsx)(n.td,{children:"Acceptable for enterprise retail SLAs."})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Dimension"}),(0,s.jsx)(n.th,{children:"Approach"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Compute"})}),(0,s.jsx)(n.td,{children:"Kubernetes everywhere (EKS/GKE/AKS) -- identical workloads, cloud-agnostic manifests"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Data"})}),(0,s.jsx)(n.td,{children:"CockroachDB for strong consistency, Kafka for event streaming, object store replication for batch"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Networking"})}),(0,s.jsx)(n.td,{children:"CloudFlare + Consul Connect mesh -- encrypted, observable, auto-failover"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Deployment"})}),(0,s.jsx)(n.td,{children:"Terraform + Crossplane + ArgoCD -- single Git repo, multi-cloud rollout"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Failover"})}),(0,s.jsx)(n.td,{children:"Tier-based: zero downtime (Tier 1), graceful degradation (Tier 2), manual recovery (Tier 3)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Cost"})}),(0,s.jsx)(n.td,{children:"~1.7x single-cloud blended. Worth it for five-nines on revenue-critical paths."})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,r){r.d(n,{R:()=>l,x:()=>d});var t=r(6540);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);